<Window x:Class="AntManager.Views.ResponsePopupWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:materialDesign="http://materialdesigninxaml.net/winfx/xaml/themes"
        Title="응답 상세"
        Height="700"
        Width="900"
        WindowStartupLocation="CenterOwner"
        Background="Transparent"
        WindowStyle="None"
        ResizeMode="CanResize"
        AllowsTransparency="True"
        UseLayoutRounding="True"
        SnapsToDevicePixels="True"
        RenderOptions.ClearTypeHint="Enabled">

    <WindowChrome.WindowChrome>
        <WindowChrome CaptionHeight="50"
                      ResizeBorderThickness="8"
                      GlassFrameThickness="0"
                      CornerRadius="12"/>
    </WindowChrome.WindowChrome>

    <Border CornerRadius="12"
            BorderBrush="{StaticResource BorderBrush}"
            BorderThickness="1"
            Background="{StaticResource CardBackground}">
        <Grid Margin="14">
            <Grid.RowDefinitions>
                <RowDefinition Height="Auto"/>
                <RowDefinition Height="*"/>
                <RowDefinition Height="Auto"/>
            </Grid.RowDefinitions>

            <!-- Header -->
            <Grid Grid.Row="0" Margin="0,0,0,8"
                  Background="Transparent">
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="*"/>
                    <ColumnDefinition Width="Auto"/>
                </Grid.ColumnDefinitions>

                <StackPanel Grid.Column="0" Orientation="Horizontal"
                           MouseLeftButtonDown="TitleBar_MouseLeftButtonDown">
                    <Border Background="{StaticResource AccentBrush}"
                           Width="30" Height="30"
                           CornerRadius="20"
                           Margin="0,0,12,0">
                        <materialDesign:PackIcon Kind="CodeJson" Width="20" Height="20"
                                               Foreground="White" HorizontalAlignment="Center" VerticalAlignment="Center"/>
                    </Border>
                    <TextBlock Text="응답 상세"
                              Style="{StaticResource SubheadingText}"
                              VerticalAlignment="Center"/>
                </StackPanel>

                <!-- Close Button -->
                <Button Grid.Column="1"
                       Click="CloseButton_Click"
                       Width="30" Height="30"
                       Background="Transparent"
                       BorderThickness="0"
                       Cursor="Hand"
                       WindowChrome.IsHitTestVisibleInChrome="True">
                    <materialDesign:PackIcon Kind="Close" Width="20" Height="20"
                                           Foreground="{StaticResource PrimaryText}"/>
                    <Button.Style>
                        <Style TargetType="Button">
                            <Setter Property="Template">
                                <Setter.Value>
                                    <ControlTemplate TargetType="Button">
                                        <Border Background="{TemplateBinding Background}" CornerRadius="8">
                                            <ContentPresenter HorizontalAlignment="Center" VerticalAlignment="Center"/>
                                        </Border>
                                    </ControlTemplate>
                                </Setter.Value>
                            </Setter>
                            <Style.Triggers>
                                <Trigger Property="IsMouseOver" Value="True">
                                    <Setter Property="Background" Value="{StaticResource HoverBackground}"/>
                                </Trigger>
                            </Style.Triggers>
                        </Style>
                    </Button.Style>
                </Button>
            </Grid>

            <!-- Response Body -->
            <Border Grid.Row="1" Background="{StaticResource DarkBackground}"
                   CornerRadius="8" BorderBrush="{StaticResource BorderBrush}" BorderThickness="1">
                <TextBox x:Name="ResponseBodyTextBox"
                        Background="Transparent"
                        BorderThickness="0"
                        Foreground="{StaticResource PrimaryText}"
                        FontFamily="Consolas"
                        FontSize="13"
                        Padding="12,12,0,0"
                        IsReadOnly="True"
                        TextWrapping="NoWrap"
                        AcceptsReturn="True"
                        VerticalScrollBarVisibility="Auto"
                        HorizontalScrollBarVisibility="Auto"
                        IsUndoEnabled="False"
                        MaxLength="5000000"
                        VirtualizingPanel.IsVirtualizing="True"
                        VirtualizingPanel.VirtualizationMode="Recycling"
                        VirtualizingPanel.ScrollUnit="Pixel"/>
            </Border>

            <!-- Footer Buttons -->
            <StackPanel Grid.Row="2" Orientation="Horizontal" HorizontalAlignment="Right" Margin="0,16,0,0">
                <Button Content="클립보드 복사"
                       Click="CopyButton_Click"
                       Style="{StaticResource ModernPrimaryButton}"
                       Width="110"
                       Margin="0,0,8,0"/>
                <Button Content="닫기"
                       Click="CloseButton_Click"
                       Style="{StaticResource ModernSecondaryButton}"
                       Width="70"/>
            </StackPanel>
        </Grid>
    </Border>
</Window>
